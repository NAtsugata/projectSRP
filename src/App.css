/* --- Mobile-First Responsive CSS for SRP App --- */

/* Reset and Base Styles */
/*
  ================================================================
  Modern UI Theme

  Cette feuille de style définit une palette de couleurs moderne et des
  composants de base réutilisables pour donner à l'application un look
  plus contemporain. Les variables CSS permettent d'ajuster facilement
  les couleurs et les rayons de bordure. Les cartes, boutons, listes
  et formulaires ont été revus pour offrir davantage d'espace blanc,
  des ombres douces et des interactions subtiles sur hover. L'ensemble
  respecte une approche mobile-first et responsive.
  ================================================================
*/

/* --- Variables CSS pour la palette de couleurs --- */
:root {
    --color-primary: #4f46e5;       /* Indigo 600 */
    --color-primary-dark: #4338ca;  /* Indigo 700 */
    --color-secondary: #6b7280;     /* Gray 500 */
    --color-secondary-dark: #4b5563;/* Gray 600 */
    --color-success: #10b981;       /* Emerald 500 */
    --color-success-dark: #059669;  /* Emerald 600 */
    --color-danger: #ef4444;        /* Red 500 */
    --color-danger-dark: #dc2626;   /* Red 600 */
    --color-warning: #f59e0b;       /* Amber 500 */
    --color-background: #f5f5f7;    /* Light gray background */
    --color-card-bg: #ffffff;       /* White for cards */
    --color-muted: #6b7280;         /* Muted text */
    --border-radius: 0.75rem;       /* Larger radius for cards */
    --box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04); /* Soft shadow */
}

/* --- Réinitialisation et base --- */
* {
    box-sizing: border-box;
}

body {
    margin: 0;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Helvetica Neue", Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background-color: var(--color-background);
    color: #1e293b; /* Darker text for better contrast */
    overflow-x: hidden;
    /* Prevent zoom on iOS */
    -webkit-text-size-adjust: 100%;
}

/* Conteneur principal */
.app-container {
    min-height: 100vh;
    overflow-x: hidden;
    width: 100%;
    position: relative;
    background-color: var(--color-background);
}

/* Main Content - Mobile First */
.main-content {
    max-width: 1280px;
    margin: 0 auto;
    padding: 1.5rem;
    width: 100%;
}

/* Typography */
.view-title {
    font-size: 1.75rem;
    font-weight: 700;
    color: #1e293b;
    margin-bottom: 1.5rem;
    line-height: 1.25;
    word-wrap: break-word;
}

/* Cards */
.card-white {
    background-color: var(--color-card-bg);
    padding: 1.5rem;
    border-radius: var(--border-radius);
    box-shadow: var(--box-shadow);
    margin-bottom: 1.5rem;
    width: 100%;
}

/* Utility Classes */
.text-muted { color: #64748b; }
.font-semibold { font-weight: 600; }
.w-full { width: 100%; }
.mb-6 { margin-bottom: 1.5rem; }
.mt-2 { margin-top: 0.5rem; }
.mt-4 { margin-top: 1rem; }

/* Flexbox Layouts - Mobile Optimized */
.flex-between {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 0.75rem;
}

.flex-center {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 0.5rem;
}

.items-center { align-items: center; }
.gap-2 { gap: 0.5rem; }
.gap-4 { gap: 1rem; }

/* Grid - Mobile First (Single Column) */
.grid-2-cols {
    display: grid;
    grid-template-columns: 1fr; /* Mobile: single column */
    gap: 1rem;
    width: 100%;
}

/* Loading States */
@keyframes spin { to { transform: rotate(360deg); } }
.loading-spinner {
    width: 32px;
    height: 32px;
    border: 3px solid #e5e7eb;
    border-top-color: #3b82f6;
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

.loading-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    gap: 1rem;
    padding: 1rem;
}

/* Boutons */
.btn {
    padding: 0.75rem 1.5rem;
    border: none;
    border-radius: var(--border-radius);
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    min-height: 44px;
    text-decoration: none;
    touch-action: manipulation;
    transition: background-color 0.2s, color 0.2s, transform 0.1s;
}


/* Couleurs spécifiques pour les boutons */
.btn-primary {
    background-color: var(--color-primary);
    color: #ffffff;
}
.btn-primary:hover:not(:disabled) {
    background-color: var(--color-primary-dark);
}
.btn-secondary {
    background-color: var(--color-secondary);
    color: #ffffff;
}
.btn-secondary:hover:not(:disabled) {
    background-color: var(--color-secondary-dark);
}
.btn-success {
    background-color: var(--color-success);
    color: #ffffff;
}
.btn-success:hover:not(:disabled) {
    background-color: var(--color-success-dark);
}
.btn-danger {
    background-color: var(--color-danger);
    color: #ffffff;
}
.btn-danger:hover:not(:disabled) {
    background-color: var(--color-danger-dark);
}

/* État disabled pour les boutons */
.btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    filter: grayscale(0.3);
}

/* Boutons icônes */
.btn-icon {
    background: none;
    border: none;
    padding: 0.75rem;
    cursor: pointer;
    color: var(--color-secondary);
    border-radius: 50%;
    min-height: 44px;
    min-width: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
    touch-action: manipulation;
    transition: background-color 0.2s, color 0.2s;
}
.btn-icon:hover:not(:disabled) {
    background-color: #f1f5f9;
    color: var(--color-primary);
}

/* Boutons icônes danger (supprimer) */
.btn-icon-danger {
    color: var(--color-secondary);
    background: none;
    border: none;
    padding: 0.75rem;
    cursor: pointer;
    border-radius: 50%;
    min-height: 44px;
    min-width: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
    touch-action: manipulation;
    transition: background-color 0.2s, color 0.2s;
}
.btn-icon-danger:hover:not(:disabled) {
    background-color: #fee2e2;
    color: var(--color-danger);
}

.btn-icon-success {
    color: #64748b;
    background: none;
    border: none;
    padding: 0.75rem;
    cursor: pointer;
    border-radius: 50%;
    min-height: 44px;
    min-width: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
    touch-action: manipulation; /* ✅ Optimisation mobile */
}

.btn-icon-success:hover:not(:disabled) {
    background-color: #dcfce7;
    color: #22c55e;
}

/* Forms - Mobile Optimized */
.form-group {
    margin-bottom: 1rem;
    width: 100%;
}

.form-group label {
    display: block;
    font-size: 1rem; /* Larger on mobile */
    font-weight: 500;
    color: #475569;
    margin-bottom: 0.5rem;
}

.form-control {
    width: 100%;
    padding: 1rem; /* Larger padding for touch */
    border: 2px solid #cbd5e1; /* Thicker border for visibility */
    border-radius: 0.5rem;
    font-size: 16px; /* Prevents zoom on iOS */
    box-sizing: border-box;
    transition: border-color 0.2s, box-shadow 0.2s;
    background-color: white;
    -webkit-appearance: none;
    appearance: none;
}

.form-control:focus {
    outline: none;
    border-color: #3b82f6;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

/* Header & Navigation - Mobile First */
.app-header {
    background-color: white;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
    border-bottom: 1px solid #e5e7eb;
    position: sticky;
    top: 0;
    z-index: 30;
    width: 100%;
}

.header-content {
    max-width: 1280px;
    margin: 0 auto;
    padding: 0.75rem 1rem;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    width: 100%;
}

.main-nav {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    width: 100%;
    justify-content: space-around;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
    -ms-overflow-style: none;
}

.main-nav::-webkit-scrollbar {
    display: none;
}

.nav-button {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.25rem;
    padding: 0.5rem 0.25rem;
    font-size: 0.75rem;
    font-weight: 600;
    border-radius: 0.375rem;
    transition: all 0.2s;
    background: none;
    border: none;
    cursor: pointer;
    color: #475569;
    text-decoration: none;
    min-width: 44px;
    flex-shrink: 0;
    touch-action: manipulation; /* ✅ Optimisation mobile */
}

.nav-button:hover:not(:disabled) {
    background-color: #f1f5f9;
}

.nav-button.active {
    background-color: #dbeafe;
    color: #3b82f6;
}

.nav-label {
    display: none; /* hidden by default on mobile, see media queries */
    white-space: nowrap;
}

/* Login Screen - Mobile Optimized */
.login-screen-container {
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    padding: 1rem;
    width: 100%;
}

.login-card {
    width: 100%;
    max-width: 400px;
    padding: 1.5rem;
    background-color: white;
    border-radius: 0.75rem;
    box-shadow: 0 10px 25px rgba(0,0,0,0.1);
}

.login-header {
    text-align: center;
    margin-bottom: 1.5rem;
}

.login-header h1 {
    font-size: 1.75rem;
    font-weight: bold;
    margin-bottom: 0.5rem;
}

.login-form {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.error-message {
    padding: 0.75rem;
    background-color: #fee2e2;
    color: #b91c1c;
    border-radius: 0.5rem;
    font-size: 0.875rem;
    text-align: center;
}

/* Status Badges */
.status-badge {
    padding: 0.375rem 0.75rem;
    font-size: 0.75rem;
    font-weight: 600;
    border-radius: 9999px;
    white-space: nowrap;
}

.status-badge-blue { background-color: #dbeafe; color: #1e40af; }
.status-badge-green { background-color: #dcfce7; color: #166534; }
.status-badge-yellow { background-color: #fef9c3; color: #854d0e; }
.status-badge-red { background-color: #fee2e2; color: #991b1b; }
.status-badge-default { background-color: #e5e7eb; color: #4b5563; }

/* Lists - Mobile Optimized */
.document-list {
    display: flex;
    flex-direction: column;
    list-style: none;
    padding: 0;
    margin: 0;
}

.document-list > * + * {
    border-top: 1px solid #e5e7eb;
}

.document-list li {
    padding: 1rem 0;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    width: 100%;
}

.intervention-list-item-clickable {
    background-color: white;
    border-radius: 0.5rem;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    margin-bottom: 0.75rem;
    border-left: 4px solid #3b82f6;
    overflow: hidden;
    cursor: pointer;
    transition: background-color 0.2s;
    width: 100%;
}

.intervention-list-item-clickable:hover {
    background-color: #f8fafc;
}

/* Detail Views - Mobile Optimized */
.back-button {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: #3b82f6;
    font-weight: 600;
    margin-bottom: 1.5rem;
    background: none;
    border: none;
    cursor: pointer;
    padding: 0.75rem; /* ✅ Plus grande zone tactile */
    border-radius: 0.375rem;
    min-height: 44px;
    transition: all 0.2s ease;
    -webkit-tap-highlight-color: rgba(59, 130, 246, 0.1);
}

.back-button:hover {
    background-color: #f1f5f9;
    transform: translateX(-2px);
}

.section {
    border-top: 1px solid #e5e7eb;
    padding-top: 1rem;
    margin-top: 1rem;
}

.section h3 {
    font-size: 1.125rem;
    font-weight: 600;
    margin-bottom: 0.75rem;
}

.add-document-form {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    margin-top: 1rem;
}

.time-display {
    font-size: 0.875rem;
    margin-top: 0.75rem;
    color: #475569;
}

.time-display span {
    font-weight: 600;
    color: #1e293b;
}

/* Image Grid - Mobile Optimized */
.image-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); /* ✅ Plus petit sur mobile */
    gap: 0.5rem; /* ✅ Gap réduit */
    margin-bottom: 0.75rem;
}

.image-grid img {
    width: 100%;
    height: 6rem; /* ✅ Réduit sur mobile */
    object-fit: cover;
    border-radius: 0.375rem;
    box-shadow: 0 1px 2px rgba(0,0,0,0.1);
    cursor: pointer;
    transition: transform 0.2s ease;
}

.image-grid img:hover {
    transform: scale(1.05);
}

/* File Input - Mobile Optimized */
.file-input {
    display: block;
    width: 100%;
    font-size: 1rem;
    color: #64748b;
    padding: 0.75rem;
    border: 2px dashed #d1d5db;
    border-radius: 0.5rem;
    background-color: white;
}

.file-input::file-selector-button {
    margin-right: 1rem;
    padding: 0.75rem 1rem;
    border-radius: 0.375rem;
    border: 0;
    font-size: 0.875rem;
    font-weight: 600;
    background-color: #e0f2fe;
    color: #0369a1;
    cursor: pointer;
}

.file-input::file-selector-button:hover {
    background-color: #bae6fd;
}

/* Signature Canvas - Mobile Optimized */
.signature-canvas {
    border: 2px dashed #d1d5db;
    border-radius: 0.5rem;
    width: 100%;
    height: 200px;
    background-color: #f8fafc;
    touch-action: none;
    cursor: crosshair;
    -webkit-touch-callout: none; /* ✅ Optimisation iOS */
    -webkit-user-select: none;
    user-select: none;
}

.signature-canvas-fullscreen {
    border: 2px dashed #ccc;
    border-radius: 0.5rem;
    touch-action: none;
    width: 100%;
    background-color: white;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
}

.text-muted-link {
    font-size: 0.875rem;
    color: #64748b;
    background: none;
    border: none;
    cursor: pointer;
    padding: 0.5rem;
    margin-top: 0.5rem;
}

.text-muted-link:hover {
    text-decoration: underline;
}

/* Custom File Input Component */
.btn.btn-secondary.w-full.flex-center {
    padding: 1rem;
    border: 2px dashed #cbd5e1;
    background: white;
    transition: all 0.2s;
    color: #475569;
    text-decoration: none;
    min-height: 56px; /* Larger touch target */
}

.btn.btn-secondary.w-full.flex-center:hover:not(:disabled) {
    border-color: #3b82f6;
    background: #f8fafc;
    color: #3b82f6;
}

.btn.btn-secondary.w-full.flex-center:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

/* ✅ OPTIMISATION DRAG & DROP POUR DESKTOP */
.btn.drag-over {
    border-color: #3b82f6 !important;
    background-color: #f0f9ff !important;
    transform: scale(1.02);
    transition: all 0.2s ease;
}

.btn.selecting {
    background-color: #e0f2fe !important;
    opacity: 0.8;
}

/* Modals - Mobile Optimized */
.modal-overlay {
    position: fixed;
    inset: 0;
    background-color: rgba(0, 0, 0, 0.6);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 50;
    padding: 1rem;
}

.modal-content {
    background-color: white;
    padding: 1.5rem;
    border-radius: 0.75rem;
    box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1), 0 10px 10px -5px rgba(0,0,0,0.04);
    width: 100%;
    max-width: 500px;
    max-height: 90vh;
    overflow-y: auto;
}

.modal-footer {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    margin-top: 1.5rem;
}

.confirmation-modal .confirmation-header {
    display: flex;
    align-items: flex-start;
    margin-bottom: 1rem;
}

.confirmation-modal .confirmation-icon {
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 3rem;
    width: 3rem;
    border-radius: 50%;
    background-color: #fee2e2;
    margin-right: 1rem;
}

.confirmation-modal .confirmation-icon svg {
    height: 1.5rem;
    width: 1.5rem;
    color: #dc2626;
}

.confirmation-modal .confirmation-text {
    flex: 1;
    text-align: left;
}

.confirmation-modal h3 {
    font-size: 1.125rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
}

.confirmation-modal p {
    font-size: 0.875rem;
    color: #475569;
}

/* Toast - Mobile Optimized */
.toast {
    position: fixed;
    top: 1rem;
    left: 1rem;
    right: 1rem;
    padding: 1rem;
    border-radius: 0.5rem;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    color: white;
    z-index: 100;
    animation: fade-in 0.5s;
    text-align: center;
}

.toast-success { background-color: #22c55e; }
.toast-error { background-color: #ef4444; }

@keyframes fade-in {
    from { opacity: 0; transform: translateY(-20px); }
    to { opacity: 1; transform: translateY(0); }
}

/* ===== ✅ NOUVELLES CORRECTIONS MOBILE ADMIN ===== */

/* 🚀 Overlay de chargement mobile progressif */
.mobile-loading-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
    padding: 1rem;
}

.mobile-loading-content {
    background: white;
    padding: 2rem;
    border-radius: 1rem;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
    text-align: center;
    max-width: 320px;
    width: 100%;
    animation: fadeInUp 0.6s ease-out;
}

.mobile-loading-content h3 {
    color: #1e293b;
    margin-bottom: 1.5rem;
    font-size: 1.25rem;
    font-weight: 600;
}

.loading-steps {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    margin: 1.5rem 0;
}

.loading-step {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.5rem;
    border-radius: 0.5rem;
    transition: all 0.3s ease;
    background-color: #f8fafc;
}

.loading-step.loading {
    background-color: #dbeafe;
    color: #1e40af;
    animation: pulse 1.5s infinite;
}

.loading-step.loaded {
    background-color: #dcfce7;
    color: #166534;
    transform: scale(1.02);
}

.loading-step.error {
    background-color: #fee2e2;
    color: #991b1b;
}

.step-indicator {
    font-size: 1.25rem;
    min-width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.loading-tip {
    color: #64748b;
    font-size: 0.875rem;
    margin-top: 1rem;
    font-style: italic;
}

/* 🎯 Animations */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes pulse {
    0%, 100% {
        transform: scale(1);
        opacity: 1;
    }
    50% {
        transform: scale(1.05);
        opacity: 0.8;
    }
}

/* 🔧 Améliorations pour les composants de pages avec état de chargement */
.page-loading-skeleton {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    padding: 1rem;
}

.skeleton-item {
    height: 2rem;
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 200% 100%;
    animation: loading-skeleton 1.5s infinite;
    border-radius: 0.375rem;
}

.skeleton-item.large {
    height: 4rem;
}

.skeleton-item.small {
    height: 1.5rem;
    width: 60%;
}

@keyframes loading-skeleton {
    0% {
        background-position: -200% 0;
    }
    100% {
        background-position: 200% 0;
    }
}

/* 🚨 Message d'optimisation mobile pour admin */
.mobile-admin-notice {
    background: linear-gradient(90deg, #3b82f6, #1d4ed8);
    color: white;
    padding: 0.75rem 1rem;
    text-align: center;
    font-size: 0.875rem;
    border-radius: 0.5rem;
    margin: 1rem 0;
    animation: slideInDown 0.5s ease-out;
}

@keyframes slideInDown {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* 💾 Optimisations mémoire pour les listes sur mobile */
@media (max-width: 768px) {
    /* Réduction de la complexité visuelle sur mobile */
    .document-list li {
        padding: 0.75rem 0;
    }

    .intervention-list-item-clickable {
        margin-bottom: 0.5rem;
    }

    /* Cache certains éléments moins importants sur mobile */
    .mobile-hidden {
        display: none !important;
    }

    /* Optimise les transitions pour réduire la charge GPU */
    .btn, .nav-button {
        transition: background-color 0.15s ease !important;
    }

    /* Réduit l'ombre portée sur mobile pour améliorer les performances */
    .card-white {
        box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05) !important;
    }

    /* Optimisations spécifiques mobile pour les modales */
    .signature-modal-content {
        width: 95vw !important;
        max-width: none !important;
        padding: 0.5rem !important;
        margin: 1rem;
        max-height: 90vh;
        overflow-y: auto;
    }

    .signature-canvas-fullscreen {
        border-radius: 0.25rem;
        height: 50vh; /* Réduit sur très petit écran */
    }

    /* Amélioration des boutons en modal sur mobile */
    .modal-footer {
        flex-direction: column;
        gap: 0.75rem;
    }

    .modal-footer .btn {
        width: 100%;
        min-height: 48px;
    }

    /* Amélioration des listes d'upload */
    .upload-queue-list li {
        min-height: 60px;
        align-items: flex-start;
        padding: 1rem;
    }

    /* Optimisations pour les inputs fichier sur mobile */
    .form-control[type="file"] {
        font-size: 16px !important; /* Évite le zoom automatique */
        padding: 1rem !important;
        -webkit-appearance: none;
        border-radius: 0.5rem;
    }
}

/* Amélioration des listes d'upload */
.upload-queue-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.upload-queue-list li {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem;
    background-color: #f8f9fa;
    border-radius: 0.375rem;
    border: 1px solid #dee2e6;
    min-height: 60px;
    transition: background-color 0.2s ease;
}

.upload-queue-list li:hover {
    background-color: #e9ecef;
}

.upload-progress {
    width: 100%;
    height: 4px;
    background-color: #e5e7eb;
    border-radius: 2px;
    overflow: hidden;
    margin-top: 0.5rem;
}

.upload-progress-bar {
    height: 100%;
    background-color: #3b82f6;
    transition: width 0.3s ease;
    border-radius: 2px;
}

/* 🔧 Amélioration des icônes de statut d'upload */
.upload-status-icon {
    width: 24px;
    height: 24px;
    flex-shrink: 0;
}

.upload-status-icon.success {
    color: #22c55e;
}

.upload-status-icon.error {
    color: #ef4444;
}

.upload-status-icon.loading {
    color: #3b82f6;
    animation: spin 1s linear infinite;
}

/* Amélioration des listes de documents détaillées */
.document-list-detailed {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.document-list-detailed li {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem;
    background-color: #f8f9fa;
    border-radius: 0.375rem;
    border: 1px solid #dee2e6;
    min-height: 60px;
    transition: background-color 0.2s ease;
}

.document-list-detailed li:hover {
    background-color: #e9ecef;
}

.document-thumbnail {
    width: 40px;
    height: 40px;
    object-fit: cover;
    border-radius: 0.25rem;
    background-color: #e9ecef;
    flex-shrink: 0;
}

.document-icon {
    width: 24px;
    height: 24px;
    flex-shrink: 0;
    color: #6c757d;
}

/* 🔧 Gestion responsive des textes longs */
.document-list-detailed li span,
.upload-queue-list li .file-name {
    flex-grow: 1;
    font-size: 0.9rem;
    word-break: break-word;
    overflow-wrap: break-word;
    hyphens: auto;
    line-height: 1.4;
}

/* 🔧 Messages d'erreur d'upload */
.upload-queue-list li .error-message {
    font-size: 0.8rem;
    color: #dc3545;
    margin-top: 0.25rem;
    font-style: italic;
    line-height: 1.3;
}

/* Tablet Styles (768px and up) */
@media (min-width: 768px) {
    .main-content {
        padding: 1.5rem;
    }

    .view-title {
        font-size: 2rem;
    }

    .card-white {
        padding: 1.5rem;
    }

    .grid-2-cols {
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }

    .header-content {
        flex-direction: row;
        padding: 0.75rem 1.5rem;
    }

    .main-nav {
        width: auto;
        justify-content: flex-end;
    }

    .nav-button {
        flex-direction: row;
        padding: 0.5rem 0.75rem;
        font-size: 0.875rem;
    }

    .nav-label {
        display: inline;
    }

    .document-list li {
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
    }

    .add-document-form {
        flex-direction: row;
    }

    .modal-footer {
        flex-direction: row;
        justify-content: flex-end;
    }

    .toast {
        top: 1.25rem;
        right: 1.25rem;
        left: auto;
        max-width: 400px;
    }

    .signature-canvas {
        height: 150px;
    }

    .image-grid {
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 0.75rem;
    }

    .image-grid img {
        height: 8rem;
    }
}

/* Desktop Styles (1024px and up) */
@media (min-width: 1024px) {
    .main-content {
        padding: 2rem;
    }

    .view-title {
        font-size: 2.25rem;
    }

    .header-content {
        padding: 0.75rem 2rem;
    }

    .btn {
        font-size: 0.875rem;
        padding: 0.75rem 1.25rem;
    }

    .form-control {
        font-size: 1rem;
        padding: 0.75rem 1rem;
    }

    .nav-button {
        padding: 0.5rem 0.75rem;
    }
}

/* Large Desktop Styles (1280px and up) */
@media (min-width: 1280px) {
    .image-grid {
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    }
}

/* ✅ Optimisations pour les petits écrans (< 480px) */
@media (max-width: 480px) {
    .signature-canvas-fullscreen {
        height: 40vh; /* Encore plus petit sur très petits écrans */
    }

    .image-grid {
        grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
        gap: 0.25rem;
    }

    .image-grid img {
        height: 5rem;
    }

    .document-list-detailed li,
    .upload-queue-list li {
        padding: 0.5rem;
        min-height: 50px;
    }

    .document-thumbnail {
        width: 32px;
        height: 32px;
    }

    .mobile-loading-content {
        padding: 1.5rem;
        margin: 1rem;
    }

    .mobile-loading-content h3 {
        font-size: 1.125rem;
    }

    .loading-steps {
        gap: 0.5rem;
    }

    .loading-step {
        padding: 0.375rem;
    }
}

/* Accessibility and iOS-specific fixes */
@supports (-webkit-touch-callout: none) {
    .form-control, input, textarea, select {
        font-size: 16px !important;
        -webkit-text-size-adjust: 100%;
    }

    .signature-canvas, .signature-canvas-fullscreen {
        -webkit-touch-callout: none;
        -webkit-user-select: none;
    }
}

/* ✅ Support des modes sombres */
@media (prefers-color-scheme: dark) {
    .signature-canvas-fullscreen {
        background-color: #1f2937;
        border-color: #4b5563;
    }

    .upload-queue-list li,
    .document-list-detailed li {
        background-color: #374151;
        border-color: #4b5563;
        color: #f9fafb;
    }

    .upload-progress {
        background-color: #4b5563;
    }
}

/* ✅ Support du contraste élevé */
@media (prefers-contrast: high) {
    .btn,
    .signature-canvas,
    .signature-canvas-fullscreen {
        border-width: 2px;
        border-style: solid;
    }

    .upload-status-icon.success {
        color: #16a34a;
    }

    .upload-status-icon.error {
        color: #dc2626;
    }
}

/* ✅ Support de la réduction des mouvements */
@media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }

    .image-grid img:hover {
        transform: none;
    }

    .back-button:hover {
        transform: none;
    }

    .mobile-loading-overlay,
    .loading-step,
    .skeleton-item {
        animation: none !important;
        transition: none !important;
    }

    .mobile-loading-content {
        animation: none !important;
    }
}

/* ✅ Amélioration de l'accessibilité tactile */
@media (pointer: coarse) {
    /* Appareils tactiles */
    .btn, .nav-button, .btn-icon, .btn-icon-danger, .btn-icon-success {
        min-height: 48px;
        min-width: 48px;
        padding: 0.875rem 1.25rem;
    }

    .signature-actions button {
        min-height: 44px;
        padding: 0.75rem 1rem;
    }
}

/* ✅ Gestion des orientations sur mobile */
@media screen and (orientation: landscape) and (max-height: 600px) {
    .signature-modal-content {
        max-height: 95vh;
    }

    .signature-canvas-fullscreen {
        height: 30vh;
    }

    .mobile-loading-overlay {
        padding: 0.5rem;
    }

    .mobile-loading-content {
        padding: 1rem;
        max-width: 280px;
    }
}

/* ✅ Gestion des notchs et safe areas sur iOS */
@supports (padding: max(0px)) {
    .modal-overlay {
        padding-left: max(1rem, env(safe-area-inset-left));
        padding-right: max(1rem, env(safe-area-inset-right));
        padding-top: max(1rem, env(safe-area-inset-top));
        padding-bottom: max(1rem, env(safe-area-inset-bottom));
    }

    .app-header {
        padding-top: env(safe-area-inset-top);
        padding-left: env(safe-area-inset-left);
        padding-right: env(safe-area-inset-right);
    }

    .mobile-loading-overlay {
        padding-left: max(1rem, env(safe-area-inset-left));
        padding-right: max(1rem, env(safe-area-inset-right));
        padding-top: max(1rem, env(safe-area-inset-top));
        padding-bottom: max(1rem, env(safe-area-inset-bottom));
    }
}

/* ✅ Corrections spécifiques pour les versions anciennes d'iOS */
@supports (-webkit-overflow-scrolling: touch) {
    .modal-content,
    .signature-modal-content {
        -webkit-overflow-scrolling: touch;
    }
}

/* ✅ Optimisations spécifiques Android */
@media screen and (-webkit-min-device-pixel-ratio: 0) and (min-resolution: .001dpcm) {
    /* Chrome/Android spécifique */
    .form-control,
    .btn,
    input[type="file"] {
        font-size: 16px; /* Évite le zoom sur Android */
    }
}

/* ✅ Support connexion lente */
@media (prefers-reduced-data) {
    .mobile-loading-content {
        background: #f8fafc;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .mobile-loading-overlay {
        background: #64748b;
    }

    /* Réduit les animations gourmandes en données */
    .skeleton-item {
        background: #e5e7eb;
        animation: none;
    }

    .loading-step.loading {
        animation: none;
        background-color: #dbeafe;
    }
}
/* ✅ AJOUTEZ CES STYLES À LA FIN DE src/App.css */

/* STYLES MOBILE OPTIMISÉS POUR CUSTOMFILEINPUT */
.mobile-file-input-label {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    padding: 1rem;
    border: 2px dashed #cbd5e1;
    border-radius: 0.5rem;
    background-color: white;
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 16px; /* Important pour éviter le zoom iOS */
    font-weight: 500;
    color: #495057;
    text-align: center;
    user-select: none;
    -webkit-user-select: none;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
    touch-action: manipulation;
    min-height: 60px; /* Zone tactile plus large sur mobile */
}

/* États interactifs */
.mobile-file-input-label:hover:not(.disabled) {
    border-color: #3b82f6;
    background-color: #f8fafc;
    color: #3b82f6;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);
}

.mobile-file-input-label:active:not(.disabled) {
    transform: translateY(0);
    box-shadow: 0 2px 4px rgba(59, 130, 246, 0.2);
}

.mobile-file-input-label.disabled {
    background-color: #f8f9fa;
    border-color: #dee2e6;
    color: #6c757d;
    cursor: not-allowed;
    opacity: 0.6;
}

.mobile-file-input-label.drag-over {
    border-color: #3b82f6 !important;
    background-color: #f0f9ff !important;
    transform: scale(1.02);
    box-shadow: 0 8px 25px rgba(59, 130, 246, 0.15);
}

/* STYLES SPÉCIFIQUES MOBILE */
@media (max-width: 768px) {
    .mobile-file-input-label {
        min-height: 64px; /* Plus grand sur mobile */
        padding: 1.25rem;
        font-size: 16px; /* Évite le zoom automatique */
        border-width: 3px; /* Bordure plus visible sur petit écran */
    }

    /* Suppression des effets hover sur mobile pour améliorer les performances */
    .mobile-file-input-label:hover:not(.disabled) {
        transform: none;
        box-shadow: none;
    }

    /* Feedback tactile amélioré */
    .mobile-file-input-label:active:not(.disabled) {
        background-color: #e0f2fe;
        border-color: #0369a1;
        transform: scale(0.98);
    }
}

/* OPTIMISATIONS POUR IOS SAFARI */
@supports (-webkit-touch-callout: none) {
    .mobile-file-input-label input[type="file"] {
        font-size: 16px !important; /* Force 16px pour éviter le zoom */
        -webkit-text-size-adjust: 100%;
    }

    .mobile-file-input-label {
        -webkit-touch-callout: none;
        -webkit-user-select: none;
    }
}

/* OPTIMISATIONS POUR ANDROID */
@media screen and (-webkit-min-device-pixel-ratio: 0) and (min-resolution: .001dpcm) {
    .mobile-file-input-label input[type="file"] {
        font-size: 16px; /* Évite le zoom sur Android */
    }
}

/* GESTION DES ORIENTATIONS MOBILES */
@media screen and (orientation: landscape) and (max-height: 600px) {
    .mobile-file-input-label {
        min-height: 48px;
        padding: 0.875rem;
    }
}

/* SUPPORT DES MODES SOMBRES */
@media (prefers-color-scheme: dark) {
    .mobile-file-input-label {
        background-color: #1f2937;
        border-color: #4b5563;
        color: #f9fafb;
    }

    .mobile-file-input-label:hover:not(.disabled) {
        background-color: #374151;
        border-color: #60a5fa;
        color: #60a5fa;
    }

    .mobile-file-input-label.disabled {
        background-color: #374151;
        border-color: #4b5563;
        color: #9ca3af;
    }

    .mobile-file-input-label.drag-over {
        background-color: #1e3a8a !important;
        border-color: #60a5fa !important;
    }
}

/* SUPPORT DU CONTRASTE ÉLEVÉ */
@media (prefers-contrast: high) {
    .mobile-file-input-label {
        border-width: 3px;
        border-style: solid;
    }

    .mobile-file-input-label:hover:not(.disabled) {
        border-color: #1d4ed8;
        color: #1d4ed8;
    }
}

/* SUPPORT DE LA RÉDUCTION DES MOUVEMENTS */
@media (prefers-reduced-motion: reduce) {
    .mobile-file-input-label,
    .mobile-file-input-label:hover,
    .mobile-file-input-label:active,
    .mobile-file-input-label.drag-over {
        transition: none !important;
        transform: none !important;
        animation: none !important;
    }
}

/* GESTION DES SAFE AREAS SUR IOS */
@supports (padding: max(0px)) {
    .mobile-file-input-label {
        padding-left: max(1rem, env(safe-area-inset-left));
        padding-right: max(1rem, env(safe-area-inset-right));
    }
}

/* AMÉLIORATION DE L'ACCESSIBILITÉ TACTILE */
@media (pointer: coarse) {
    /* Appareils tactiles */
    .mobile-file-input-label {
        min-height: 56px;
        min-width: 56px;
        padding: 1rem 1.25rem;
    }
}

/* OPTIMISATIONS POUR LES TRÈS PETITS ÉCRANS */
@media (max-width: 480px) {
    .mobile-file-input-label {
        min-height: 60px;
        padding: 1rem;
        font-size: 15px;
        border-radius: 0.375rem;
    }

    .mobile-file-input-label svg {
        width: 18px;
        height: 18px;
    }
}

/* OPTIMISATIONS POUR CONNEXIONS LENTES */
@media (prefers-reduced-data) {
    .mobile-file-input-label {
        box-shadow: none;
    }

    .mobile-file-input-label:hover:not(.disabled) {
        box-shadow: none;
        transform: none;
    }

    .mobile-file-input-label.drag-over {
        box-shadow: none;
        transform: none;
    }
}

/* CORRECTION SPÉCIFIQUE POUR LE BACK BUTTON SUR MOBILE */
.back-button {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: #3b82f6;
    font-weight: 600;
    margin-bottom: 1.5rem;
    background: none;
    border: none;
    cursor: pointer;
    padding: 0.75rem;
    border-radius: 0.375rem;
    min-height: 44px;
    transition: all 0.2s ease;
    -webkit-tap-highlight-color: rgba(59, 130, 246, 0.1);
    touch-action: manipulation;
}

.back-button:hover {
    background-color: #f1f5f9;
    transform: translateX(-2px);
}

@media (max-width: 768px) {
    .back-button {
        min-height: 48px;
        padding: 1rem;
    }
}

/* ANIMATIONS OPTIMISÉES POUR MOBILE */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

.upload-queue-list li {
    animation: fadeIn 0.3s ease-out;
}

@media (prefers-reduced-motion: reduce) {
    .upload-queue-list li {
        animation: none;
    }
}

/* --- Responsive Enhancements for Modern UI --- */
@media (min-width: 640px) {
    /* Afficher les labels de navigation et aligner horizontalement */
    .nav-label {
        display: inline;
        font-size: 0.75rem;
        line-height: 1.2;
    }
    .nav-button {
        flex-direction: row;
        gap: 0.5rem;
        padding: 0.5rem 0.75rem;
    }
    .main-nav {
        justify-content: flex-start;
        gap: 1rem;
    }
    .view-title {
        font-size: 2rem;
    }
    .card-white {
        padding: 2rem;
    }
    .form-group label {
        font-size: 1rem;
    }
    .form-control {
        font-size: 1rem;
        padding: 0.875rem 1rem;
    }
}

@media (min-width: 768px) {
    /* Deux colonnes sur les écrans moyens */
    .grid-2-cols {
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }
    /* Ajustement des listes pour aligner le contenu sur une ligne */
    .document-list li {
        flex-direction: row;
        align-items: center;
    }
    .document-list > * + * {
        border-top: none;
        margin-top: 0;
        margin-left: 1rem;
    }
    .document-list li .file-info {
        flex-grow: 1;
    }
}

@media (min-width: 1024px) {
    /* Trois colonnes sur les grands écrans */
    .grid-2-cols {
        grid-template-columns: repeat(3, minmax(0, 1fr));
    }
    .nav-button {
        font-size: 0.875rem;
    }
}