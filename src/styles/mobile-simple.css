/* ============================================
   MOBILE SIMPLE - Design Épuré & Professionnel
   Supprime la saturation et corrige les icônes
   ============================================ */

/* ==================== RESET COMPLET MOBILE ==================== */

@media (max-width: 640px) {

  /* SUPPRIMER TOUS LES GRADIENTS */
  *,
  *::before,
  *::after {
    background-image: none !important;
    background: none !important;
  }

  /* FOND SIMPLE ET PROPRE */
  body {
    background: #f8f9fa !important;
    color: #212529 !important;
    font-size: 16px !important;
    line-height: 1.5 !important;
  }

  /* CONTAINERS BLANCS SIMPLES */
  .admin-dashboard,
  .agenda-view,
  .coffre-view,
  .employee-planning-view,
  .admin-planning-view,
  .intervention-detail-modern {
    background: #f8f9fa !important;
    padding: 12px !important;
  }

  /* ==================== CARDS ÉPURÉES ==================== */

  .modern-section,
  .document-card,
  .intervention-card,
  .planning-form-section,
  .coffre-controls,
  .agenda-day-card,
  .card,
  .card-white {
    background: #ffffff !important;
    border: 1px solid #dee2e6 !important;
    border-radius: 8px !important;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05) !important;
    padding: 16px !important;
    margin-bottom: 12px !important;
  }

  /* ==================== TITRES SIMPLES ==================== */

  .view-title,
  .planning-title,
  .section-title,
  .category-title,
  .dashboard-title,
  h1, h2, h3, h4 {
    background: none !important;
    color: #212529 !important;
    -webkit-text-fill-color: #212529 !important;
    font-weight: 600 !important;
    margin-bottom: 12px !important;
  }

  .view-title {
    font-size: 24px !important;
  }

  h2, .section-title {
    font-size: 20px !important;
  }

  h3 {
    font-size: 18px !important;
  }

  /* DÉSACTIVER EMOJIS ET ICÔNES AVANT/APRÈS */
  .view-title::before,
  .planning-title::before,
  .section-title::before,
  *::before,
  *::after {
    display: none !important;
  }

  /* ==================== ICÔNES SVG SIMPLES ==================== */

  svg,
  .icon,
  [class*="Icon"] {
    width: 20px !important;
    height: 20px !important;
    min-width: 20px !important;
    min-height: 20px !important;
    color: #6c757d !important;
    stroke: currentColor !important;
    fill: none !important;
    stroke-width: 2 !important;
    flex-shrink: 0 !important;
  }

  /* ==================== BOUTONS SIMPLES ==================== */

  button,
  .btn,
  .btn-primary,
  .btn-secondary,
  [role="button"],
  a.btn {
    background: #007bff !important;
    color: #ffffff !important;
    border: none !important;
    border-radius: 6px !important;
    padding: 12px 20px !important;
    font-size: 16px !important;
    font-weight: 500 !important;
    box-shadow: none !important;
    min-height: 44px !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 8px !important;
  }

  .btn-secondary,
  button[type="button"]:not(.btn-primary) {
    background: #6c757d !important;
    color: #ffffff !important;
  }

  button:disabled,
  .btn:disabled {
    background: #e9ecef !important;
    color: #6c757d !important;
  }

  /* ==================== INPUTS SIMPLES ==================== */

  input,
  textarea,
  select,
  .form-input,
  .form-control,
  .search-input {
    background: #ffffff !important;
    border: 1px solid #ced4da !important;
    border-radius: 6px !important;
    padding: 12px !important;
    font-size: 16px !important;
    color: #212529 !important;
    min-height: 44px !important;
  }

  input:focus,
  textarea:focus,
  select:focus {
    outline: none !important;
    border-color: #007bff !important;
    box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.15) !important;
  }

  input::placeholder,
  textarea::placeholder {
    color: #adb5bd !important;
  }

  /* ==================== STATS CARDS SIMPLES ==================== */

  .stat-card {
    background: #ffffff !important;
    border: 1px solid #dee2e6 !important;
    border-left: 4px solid #007bff !important;
    border-radius: 6px !important;
    padding: 16px !important;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05) !important;
  }

  .stat-number {
    font-size: 32px !important;
    font-weight: 700 !important;
    color: #007bff !important;
    background: none !important;
    -webkit-text-fill-color: #007bff !important;
  }

  .stat-label {
    font-size: 14px !important;
    color: #6c757d !important;
    background: none !important;
  }

  /* ==================== NAVIGATION BOTTOM FIXE ==================== */

  .mobile-nav {
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    background: #ffffff !important;
    border-top: 1px solid #dee2e6 !important;
    padding: 8px 0 !important;
    padding-bottom: max(8px, env(safe-area-inset-bottom)) !important;
    box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.1) !important;
    z-index: 1000 !important;
    display: flex !important;
    justify-content: space-around !important;
    align-items: flex-start !important;
  }

  .mobile-nav-item {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    gap: 4px !important;
    padding: 8px 12px !important;
    min-width: 60px !important;
    min-height: 56px !important;
    color: #6c757d !important;
    font-size: 12px !important;
    text-decoration: none !important;
    background: transparent !important;
  }

  .mobile-nav-item.active {
    color: #007bff !important;
    font-weight: 600 !important;
  }

  .mobile-nav-icon {
    width: 24px !important;
    height: 24px !important;
    min-width: 24px !important;
    min-height: 24px !important;
    color: inherit !important;
    stroke: currentColor !important;
  }

  /* Espace pour la navigation bottom */
  .admin-dashboard,
  .agenda-view,
  .coffre-view,
  .employee-planning-view,
  .admin-planning-view,
  .intervention-detail-modern {
    padding-bottom: max(80px, calc(80px + env(safe-area-inset-bottom))) !important;
  }

  /* ==================== BADGES SIMPLES ==================== */

  .badge,
  .tag {
    background: #e9ecef !important;
    color: #495057 !important;
    padding: 4px 10px !important;
    border-radius: 4px !important;
    font-size: 12px !important;
    font-weight: 500 !important;
  }

  .badge-success {
    background: #d4edda !important;
    color: #155724 !important;
  }

  .badge-danger {
    background: #f8d7da !important;
    color: #721c24 !important;
  }

  .badge-warning {
    background: #fff3cd !important;
    color: #856404 !important;
  }

  .badge-info {
    background: #d1ecf1 !important;
    color: #0c5460 !important;
  }

  /* ==================== ALERTS SIMPLES ==================== */

  .alert {
    background: #ffffff !important;
    border: 1px solid #dee2e6 !important;
    border-left: 4px solid #007bff !important;
    border-radius: 6px !important;
    padding: 12px !important;
    margin-bottom: 12px !important;
  }

  .alert-success {
    border-left-color: #28a745 !important;
    background: #d4edda !important;
    color: #155724 !important;
  }

  .alert-error,
  .alert-danger {
    border-left-color: #dc3545 !important;
    background: #f8d7da !important;
    color: #721c24 !important;
  }

  .alert-warning {
    border-left-color: #ffc107 !important;
    background: #fff3cd !important;
    color: #856404 !important;
  }

  .alert-info {
    border-left-color: #17a2b8 !important;
    background: #d1ecf1 !important;
    color: #0c5460 !important;
  }

  /* ==================== HEADERS SIMPLES ==================== */

  .planning-header,
  .coffre-header,
  .dashboard-header,
  .header-top {
    background: #ffffff !important;
    border-radius: 8px !important;
    padding: 16px !important;
    margin-bottom: 12px !important;
    border: 1px solid #dee2e6 !important;
  }

  .header-subtitle {
    color: #6c757d !important;
    font-size: 14px !important;
  }

  /* ==================== TABLES SIMPLES ==================== */

  table,
  .table {
    background: #ffffff !important;
    border: 1px solid #dee2e6 !important;
    border-radius: 6px !important;
    overflow: hidden !important;
  }

  th {
    background: #f8f9fa !important;
    color: #495057 !important;
    font-weight: 600 !important;
    padding: 12px !important;
  }

  td {
    padding: 12px !important;
    border-top: 1px solid #dee2e6 !important;
  }

  /* ==================== MODALS SIMPLES ==================== */

  .modal-overlay {
    background: rgba(0, 0, 0, 0.5) !important;
  }

  .modal-content {
    background: #ffffff !important;
    border-radius: 12px 12px 0 0 !important;
    padding: 20px !important;
    max-height: 85vh !important;
  }

  /* ==================== LOADING SIMPLE ==================== */

  .loading-spinner,
  .spinner {
    border: 3px solid #f8f9fa !important;
    border-top-color: #007bff !important;
    width: 40px !important;
    height: 40px !important;
  }

  .skeleton {
    background: #e9ecef !important;
  }

  /* ==================== EMPTY STATES SIMPLES ==================== */

  .empty-state,
  .empty-vault,
  .no-results {
    background: #ffffff !important;
    border: 2px dashed #dee2e6 !important;
    border-radius: 8px !important;
    padding: 40px 20px !important;
    text-align: center !important;
  }

  .empty-state-icon {
    font-size: 48px !important;
    opacity: 0.5 !important;
  }

  .empty-state-title {
    color: #495057 !important;
    font-size: 18px !important;
    font-weight: 600 !important;
    margin: 12px 0 8px !important;
  }

  .empty-state-description {
    color: #6c757d !important;
    font-size: 14px !important;
  }

  /* ==================== DOCUMENT PREVIEW SIMPLE ==================== */

  .document-preview {
    background: #f8f9fa !important;
    border: 1px solid #dee2e6 !important;
    border-radius: 6px !important;
    height: 120px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }

  .file-icon {
    font-size: 48px !important;
    opacity: 0.7 !important;
  }

  .file-ext {
    background: #007bff !important;
    color: #ffffff !important;
    padding: 4px 8px !important;
    border-radius: 4px !important;
    font-size: 11px !important;
    font-weight: 600 !important;
  }

  /* ==================== CHECKPOINTS SIMPLES ==================== */

  .checkpoint-item {
    background: #ffffff !important;
    border: 1px solid #dee2e6 !important;
    border-radius: 6px !important;
    padding: 12px !important;
    margin-bottom: 8px !important;
  }

  .checkpoint-item.completed {
    background: #d4edda !important;
    border-color: #28a745 !important;
  }

  .checkpoint-checkbox {
    width: 24px !important;
    height: 24px !important;
    border: 2px solid #ced4da !important;
    border-radius: 4px !important;
    background: #ffffff !important;
  }

  .checkpoint-item.completed .checkpoint-checkbox {
    background: #28a745 !important;
    border-color: #28a745 !important;
  }

  /* ==================== SUPPRIMER ANIMATIONS ==================== */

  * {
    animation: none !important;
    transition: none !important;
  }

  /* Garder seulement les transitions essentielles */
  button,
  .btn,
  input,
  select,
  textarea {
    transition: border-color 0.15s ease, box-shadow 0.15s ease !important;
  }

  /* ==================== SCROLL SIMPLE ==================== */

  ::-webkit-scrollbar {
    width: 8px !important;
  }

  ::-webkit-scrollbar-track {
    background: #f8f9fa !important;
  }

  ::-webkit-scrollbar-thumb {
    background: #ced4da !important;
    border-radius: 4px !important;
  }

  /* ==================== DÉSACTIVER HOVER EFFECTS ==================== */

  *:hover {
    transform: none !important;
  }

  /* ==================== SPACING SIMPLE ==================== */

  * {
    margin: initial !important;
    padding: initial !important;
  }

  /* Réappliquer les paddings essentiels */
  .modern-section,
  .document-card,
  .card,
  .planning-form-section,
  .coffre-controls {
    padding: 16px !important;
  }

  button,
  .btn {
    padding: 12px 20px !important;
  }

  input,
  select,
  textarea {
    padding: 12px !important;
  }

  /* ==================== TEXTE LISIBLE ==================== */

  p,
  span,
  div,
  li {
    color: #212529 !important;
    font-size: 16px !important;
    line-height: 1.5 !important;
  }

  small,
  .text-sm {
    font-size: 14px !important;
    color: #6c757d !important;
  }

  .text-muted,
  .text-secondary {
    color: #6c757d !important;
  }

  /* ==================== LINKS SIMPLES ==================== */

  a {
    color: #007bff !important;
    text-decoration: none !important;
  }

  a:hover {
    text-decoration: underline !important;
  }

  /* ==================== BORDERS VISIBLES ==================== */

  hr {
    border: none !important;
    border-top: 1px solid #dee2e6 !important;
    margin: 16px 0 !important;
  }

  /* ==================== FOCUS VISIBLE ==================== */

  *:focus,
  *:focus-visible {
    outline: 2px solid #007bff !important;
    outline-offset: 2px !important;
  }

  /* ==================== DÉSACTIVER DARK MODE ==================== */

  @media (prefers-color-scheme: dark) {
    * {
      color-scheme: light !important;
    }
  }
}

/* ==================== LANDSCAPE MODE ==================== */

@media (max-width: 896px) and (orientation: landscape) {
  .mobile-nav {
    padding: 4px 0 !important;
    padding-bottom: max(4px, env(safe-area-inset-bottom)) !important;
  }

  .mobile-nav-item {
    min-height: 44px !important;
    font-size: 11px !important;
  }
}
